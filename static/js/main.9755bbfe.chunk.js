(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{125:function(e,t,n){},133:function(e,t){},138:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(32),i=n.n(c),s=(n(125),n(36)),o=n(15),l=n(16),u=(n(90),n(195)),j=n(179),d=n(1),b=function(e){var t=e.handlePlayAgain,n=e.handleRanking;return Object(d.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:[Object(d.jsx)(u.a,{"data-testid":"btn-play-again",variant:"contained",onClick:t,sx:{mr:"5px"},children:"Play Again"}),Object(d.jsx)(u.a,{"data-testid":"btn-ranking",variant:"contained",onClick:n,children:"Ranking"})]})},f=n(198),p=function(e){var t=e.assertions,n=e.score,a=e.getMessage;return Object(d.jsxs)(j.a,{className:"box-feedback",children:[Object(d.jsx)(f.a,{"data-testid":"feedback-text",variant:"h6",component:"p",style:{marginRight:"5px"},children:a(t)}),Object(d.jsx)(f.a,{"data-testid":"feedback-total-score",variant:"h6",component:"p",style:{marginRight:"5px"},children:"Total Score: ".concat(n)}),Object(d.jsx)(f.a,{"data-testid":"feedback-total-question",variant:"h6",component:"p",style:{marginRight:"5px"},children:"Total Assertions: ".concat(t)})]})},m=n(189),O=n(199),h=n(184),x=n(99),g=n.n(x),v=n.p+"static/media/trivia.7e9181d3.png",y=n(97),w=n.n(y),k=function(e){var t=w()(e).toString();return"".concat("https://www.gravatar.com/avatar/").concat(t)},S=n(47),I=Object(S.c)({name:"player",initialState:{name:"",email:"",assertions:0,score:0},reducers:{addName:function(e,t){e.name=t.payload},addEmail:function(e,t){e.email=t.payload},alterScore:function(e,t){e.score=t.payload,e.assertions+=1},resetInfo:function(e){e.name="",e.email="",e.assertions=0,e.score=0}}}),C=function(e){return e.player.name},N=function(e){return e.player.email},A=function(e){return e.player.assertions},E=function(e){return e.player.score},P=I.actions,J=P.addName,q=P.addEmail,T=P.alterScore,F=P.resetInfo,R=I.reducer,M=function(e){return Object(d.jsx)(h.a,{sx:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center"},children:Object(d.jsx)("img",{"data-testid":"header-profile-picture",src:k(e),alt:"img-gravatar"})})},D=function(e,t){return Object(d.jsxs)(h.a,{component:"section",children:[Object(d.jsx)(f.a,{"data-testid":"player-name",variant:"h6",component:"p",style:{marginRight:"5px"},children:"Player Name: ".concat(e)}),Object(d.jsx)(f.a,{"data-testid":"player-score",variant:"h6",component:"p",children:"Score:".concat(t)})]})},L=function(){var e=Object(l.f)(),t=Object(o.c)(N),n=Object(o.c)(C),a=Object(o.c)(E);return Object(d.jsxs)("header",{children:[Object(d.jsxs)(h.a,{sx:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"space-between"},children:[M(t),Object(d.jsx)("img",{className:"logo",src:v,style:{alignSelf:"flex-end"},alt:"logo-trivia"}),Object(d.jsx)(m.a,{title:"Settings",children:Object(d.jsx)(O.a,{"aria-label":"configuration",fontSize:"large",onClick:function(){return function(e){e.push("/settings")}(e)},children:Object(d.jsx)(g.a,{fontSize:"large"})})})]}),D(n,a)]})},Q=function(e){return e<3?'"Could be better..."':e>=3?'"Nice job!"':void 0},W=function(e,t){e.push(t)},_=function(){var e=Object(o.c)(A),t=Object(o.c)(E),n=Object(l.f)(),a=Object(o.c)(C),c=Object(o.c)(N);return Object(r.useEffect)((function(){!function(){var e=[{name:a,score:t,picture:k(c)}];if(localStorage.getItem("ranking")){var n=JSON.parse(localStorage.getItem("player")),r=n.name,i=n.gravatarEmail,s=n.score,o=JSON.parse(localStorage.getItem("ranking"));return o.push({name:r,score:s,picture:k(i)}),void localStorage.setItem("ranking",JSON.stringify(o))}localStorage.setItem("ranking",JSON.stringify(e))}()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{}),Object(d.jsx)(p,{score:t,assertions:e,getMessage:Q}),Object(d.jsx)(b,{handlePlayAgain:function(){return W(n,"/")},handleRanking:function(){return W(n,"/ranking")}})]})},B=n(12),U=n(54),z=n(18),G=n.n(z),H=n(27),K=function(e){for(var t=e.length-1;t>0;t-=1){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},V=function(e,t){switch(t){case"easy":return 10+1*e;case"medium":return 10+2*e;case"hard":return 10+3*e}},$=function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){return decodeURIComponent(atob(e))},Y=function(e){var t=e.isAnswered,n=e.handleClick;return Object(d.jsx)(u.a,{className:"btn-next","data-testid":"btn-next",sx:{display:t?"initial":"none"},variant:"contained",onClick:n,children:"Next"})},Z=function(e,t){return e===t?"3px solid rgb(6, 240, 15)":"3px solid rgb(255, 0, 0)"},ee=function(e){var t=e.answer,n=e.correctAnswer,a=e.handleClickAnswer,r=e.time,c=e.isAnswered;return Object(d.jsx)(h.a,{className:"box-answers",children:Object(d.jsx)(u.a,{"data-testid":t===n?"correct-answer":"wrong-answer",value:t===n?"correct":"wrong",onClick:a,disabled:0===r||c,sx:{border:c?Z(t,n):null},children:X(t)})})},te=function(){var e=Object(H.a)(G.a.mark((function e(t,n,a,r){var c,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.time,i=t.score,"correct"===a&&r(T(V(c,X(n))+i));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ne=function(e){var t=e.arrayQuestions,n=e.time,a=e.questionIndex,c=e.stopTimer,i=e.handleClick,s=e.isAnswered,l=e.setIsAnswered,u=t[a].shuffledQuestions,j=t[a].correct_answer,b=t[a].difficulty,f=Object(o.c)(E),p=Object(o.c)(A),m=Object(o.b)();Object(r.useEffect)((function(){return function(e,t){var n=JSON.parse(localStorage.getItem("player")),a=Object(U.a)(Object(U.a)({},n),{},{assertions:e,score:t});localStorage.setItem("player",JSON.stringify(a))}(p,f)}),[f]);var O={time:n,score:f},h=function(e){var t=e.target.value;c(),te(O,b,t,m),l(!0)};return Object(d.jsxs)(d.Fragment,{children:[u.map((function(e,t){return Object(d.jsx)(ee,{answer:e,correctAnswer:j,handleClickAnswer:h,isAnswered:s,time:n},t)})),Object(d.jsx)(Y,{isAnswered:s,handleClick:i})]})},ae=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{}),Object(d.jsx)(f.a,{"data-testid":"question-category",variant:"h4",component:"p",children:"Loading...Loading...Loading"})]})},re=function(e){var t=e.timer;return Object(d.jsx)(f.a,{sx:{textAlign:"center",marginTop:"25px"},variant:"h3",component:"p",children:t})},ce=n(4),ie=n(17),se=Object(S.b)("game/getQuestions",function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return n=e.sent,a=n.results,r=a.map((function(e){var t=e.incorrect_answers,n=e.correct_answer;return Object(U.a)(Object(U.a)({},e),{},{shuffledQuestions:K([].concat(Object(ie.a)(t),[n]))})})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(S.c)({name:"game",initialState:{questions:[],entryPoint:"https://opentdb.com/api.php?amount=5&encode=base64"},reducers:{alterUrl:function(e,t){e.entryPoint=t.payload}},extraReducers:Object(ce.a)({},se.fulfilled,(function(e,t){var n=t.payload;e.questions=n}))}),le=function(e){return e.game.entryPoint},ue=function(e){return e.game.questions},je=oe.actions.alterUrl,de=oe.reducer,be=function(e,t){var n=e.category,a=e.question;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{sx:{textAlign:"center",mt:"10px"},"data-testid":"question-category",variant:"h6",component:"p",children:X(n)}),Object(d.jsx)(f.a,{sx:{textAlign:"center"},"data-testid":"question-text",variant:"h6",component:"p",children:X(a)}),Object(d.jsx)(re,{timer:t})]})},fe=function(){return clearTimeout(a)},pe=function(){var e=Object(o.b)(),t=Object(o.c)(ue),n=Object(o.c)(le),c=Object(r.useState)(0),i=Object(B.a)(c,2),s=i[0],u=i[1],j=Object(r.useState)(30),b=Object(B.a)(j,2),f=b[0],p=b[1],m=Object(r.useState)(!1),O=Object(B.a)(m,2),h=O[0],x=O[1],g=Object(l.f)(),v=function(){p(f-1)};return Object(r.useEffect)((function(){e(se(n)),function(e){if(localStorage.getItem("player")){var t=JSON.parse(localStorage.getItem("player")),n=t.name,a=t.gravatarEmail;e(q(a)),e(J(n))}}(e)}),[]),Object(r.useEffect)((function(){if(0!==f)return a=setInterval(v,1e3),function(){return clearInterval(a)}}),[f]),!t.length>0?Object(d.jsx)(ae,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{}),be(t[s],f),Object(d.jsx)(ne,{arrayQuestions:t,time:f,questionIndex:s,stopTimer:fe,handleClick:function(){4===s?function(e){e.push("/feedback")}(g):function(e,t,n){e((function(e){return e+1})),t(!1),n(30)}(u,x,p)},isAnswered:h,setIsAnswered:x})]})},me=n(193),Oe=n(51),he=n.n(Oe),xe=n(197),ge=n(100),ve=n.n(ge),ye=n(101),we=n.n(ye),ke=function(){var e=Object(H.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ke();var Se=ke,Ie=function(e,t){return!(/\S+@\S+\.\S+/.test(t)&&e.length>0)},Ce=function(){var e=Object(H.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se();case 2:t=e.sent,localStorage.setItem("token",JSON.stringify(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(e,t,n,a){Ce(),function(e,t){var n={name:e,gravatarEmail:t};localStorage.setItem("player",JSON.stringify(n))}(t,n),a(J(t)),a(q(n)),e.push("/game")},Ae=function(e,t,n,a){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(me.a,{autoComplete:"off",id:"outlined-name",label:"Player Name",variant:"standard",value:e,fullWidth:!0,onChange:function(e){var n=e.target;return t(n.value)},InputProps:{startAdornment:Object(d.jsx)(xe.a,{position:"start",children:Object(d.jsx)(ve.a,{})})}}),Object(d.jsx)(me.a,{autoComplete:"off",type:"email",id:"outlined-email",label:"E-mail",variant:"standard",value:n,margin:"normal",fullWidth:!0,onChange:function(e){var t=e.target;return a(t.value)},InputProps:{startAdornment:Object(d.jsx)(xe.a,{position:"start",children:Object(d.jsx)(we.a,{})})}})]})},Ee=function(){var e=Object(r.useState)(""),t=Object(B.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(B.a)(c,2),s=i[0],j=i[1],b=Object(l.f)(),f=Object(o.b)();return Object(r.useEffect)((function(){f(F())}),[]),Object(d.jsxs)(h.a,{component:"section",className:"section-login",sx:{maxWidth:"sm"},children:[Object(d.jsx)("img",{alt:"logo-trivia",className:"img-logo",src:v}),Ae(n,a,s,j),Object(d.jsx)(u.a,{variant:"contained",endIcon:Object(d.jsx)(he.a,{}),disabled:Ie(n,s),onClick:function(){return Ne(b,n,s,f)},children:"Play"})]})},Pe=function(e){var t=e.array;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{"data-testid":"ranking-title",variant:"h1",component:"p",mb:"0.2em",children:"Ranking"}),t.map((function(e,t){return Object(d.jsxs)(j.a,{className:"box-ranking-data",children:[Object(d.jsx)("img",{alt:"img-player",src:e.picture}),Object(d.jsx)(f.a,{"data-testid":"player-name-".concat(t),variant:"h4",component:"p",ml:"0.5em",children:e.name}),Object(d.jsx)(f.a,{"data-testid":"player-score-".concat(t),variant:"h4",component:"p",ml:"0.3em",children:e.score})]},t)}))]})},Je=function(e,t){return e.score<t.score?1:e.score>t.score?-1:0},qe=function(){var e=Object(l.f)(),t=JSON.parse(localStorage.getItem("ranking"));return t.sort(Je),Object(d.jsxs)(h.a,{className:"box-ranking",children:[Object(d.jsx)(Pe,{array:t}),Object(d.jsx)(u.a,{"data-testid":"btn-go-home",variant:"contained",endIcon:Object(d.jsx)(he.a,{}),onClick:function(){return e.push("/")},sx:{mt:"5px"},children:"Play again"})]})},Te=n(194),Fe=n(192),Re=n(202),Me=n(190),De=function(e){var t=e.category,n=e.funcCategory,a=e.level,r=e.funcLevel,c=e.type,i=e.funcType;return Object(d.jsxs)(h.a,{className:"box-settings",children:[Object(d.jsxs)(Re.a,{variant:"standard",sx:{width:"50%"},children:[Object(d.jsx)(Te.a,{id:"category",children:"Category"}),Object(d.jsxs)(Me.a,{labelId:"category",value:t,onChange:n,label:"Category",children:[Object(d.jsx)(Fe.a,{value:"",children:"Default"}),Object(d.jsx)(Fe.a,{value:"9",children:"General Knowledge"}),Object(d.jsx)(Fe.a,{value:"10",children:"Entertainment: Books"}),Object(d.jsx)(Fe.a,{value:"11",children:"Entertainment: Film"}),Object(d.jsx)(Fe.a,{value:"12",children:"Entertainment: Music"}),Object(d.jsx)(Fe.a,{value:"14",children:"Entertainment: Television"}),Object(d.jsx)(Fe.a,{value:"15",children:"Entertainment: Video Games"})]})]}),Object(d.jsxs)(Re.a,{variant:"standard",sx:{width:"50%"},children:[Object(d.jsx)(Te.a,{id:"level",children:"Difficult"}),Object(d.jsxs)(Me.a,{labelId:"level",value:a,onChange:r,label:"Difficult",children:[Object(d.jsx)(Fe.a,{value:"",children:"Default"}),Object(d.jsx)(Fe.a,{value:"easy",children:"Easy"}),Object(d.jsx)(Fe.a,{value:"medium",children:"Medium"}),Object(d.jsx)(Fe.a,{value:"hard",children:"Hard"})]})]}),Object(d.jsxs)(Re.a,{variant:"standard",sx:{width:"50%"},children:[Object(d.jsx)(Te.a,{id:"type",children:"Type"}),Object(d.jsxs)(Me.a,{labelId:"type",value:c,onChange:i,label:"Difficult",children:[Object(d.jsx)(Fe.a,{value:"",children:"Default"}),Object(d.jsx)(Fe.a,{value:"multiple",children:"Multiple Choice"}),Object(d.jsx)(Fe.a,{value:"boolean",children:"True/False"})]})]})]})},Le=function(){var e=Object(H.a)(G.a.mark((function e(t,n,a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(je(n)),a.push("/");case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(r.useState)(""),t=Object(B.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(B.a)(c,2),s=i[0],j=i[1],b=Object(r.useState)(""),p=Object(B.a)(b,2),m=p[0],O=p[1],h=Object(l.f)(),x=Object(o.b)(),g="category=".concat(n,"&difficulty=").concat(s,"&type=").concat(m),v="https://opentdb.com/api.php?amount=5&encode=base64&".concat(g);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{variant:"h1",component:"header",style:{textAlign:"center"},children:"Settings"}),Object(d.jsx)(De,{category:n,funcCategory:function(e){return function(e,t){t(e.target.value)}(e,a)},level:s,funcLevel:function(e){return function(e,t){t(e.target.value)}(e,j)},type:m,funcType:function(e){return function(e,t){t(e.target.value)}(e,O)}}),Object(d.jsx)(u.a,{className:"btn-settings",variant:"contained",endIcon:Object(d.jsx)(he.a,{}),onClick:function(){return Le(x,v,h)},children:"Apply and Play"})]})};function We(){return Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/game",component:pe}),Object(d.jsx)(l.a,{path:"/settings",component:Qe}),Object(d.jsx)(l.a,{path:"/feedback",component:_}),Object(d.jsx)(l.a,{path:"/ranking",component:qe}),Object(d.jsx)(l.a,{exact:!0,path:"/",component:Ee})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=n(29),Be=Object(_e.b)({player:R,game:de}),Ue=Object(S.a)({reducer:Be});i.a.render(Object(d.jsx)(s.a,{basename:"/trivia",children:Object(d.jsx)(o.a,{store:Ue,children:Object(d.jsx)(We,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,n){}},[[138,1,2]]]);
//# sourceMappingURL=main.9755bbfe.chunk.js.map